// Including libraries
function handler(e,t){e.addListener("end",function(){fileServer.serve(e,t)})}var app=require("http").createServer(handler),io=require("socket.io").listen(app),static=require("node-static"),fileServer=new static.Server("./");app.listen(1337);var clients=[],lastPlayer,words=["penis","banana","sausage","rocket","car","cat","computer","ninja","giraffe","glasses","dog","alien","monster"];io.sockets.on("connection",function(e){var t=Math.floor(Math.random()*10001);e.broadcast.emit("user_connected",t);console.info("New client connected (id="+e.id+").");clients.push(e);e.on("mousemove",function(t){e.broadcast.emit("moving",t)});e.on("disconnect",function(){e.broadcast.emit("user_disconnected",t);var n=clients.indexOf(e);if(n!=-1){clients.splice(n,1);console.info("Client gone (id="+e.id+").")}})});setInterval(function(e){var t;if(clients.length>0){t=Math.floor(Math.random()*clients.length);lastPlayer=clients[t];randomWord=Math.floor(Math.random()*words.length);clients[t].emit("new_word",words[randomWord]);io.sockets.emit("the_word",words[randomWord])}},7e4);